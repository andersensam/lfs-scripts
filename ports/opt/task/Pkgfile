# Description: Powerful task manager for the command-line 
# URL:         https://taskwarrior.org/
# Maintainer:  Juergen Daubert, jue at crux dot nu
# Depends on:  util-linux cmake

name=task
version=2.5.2
release=1
source=(https://github.com/GothenburgBitFactory/taskwarrior/releases/download/v$version/$name-$version.tar.gz)

build () {
	cmake -S $name-$version -B build \
		-D CMAKE_BUILD_TYPE=release \
		-D CMAKE_CXX_FLAGS_RELEASE="$CXXFLAGS" \
		-D CMAKE_INSTALL_PREFIX=/usr \
		-D TASK_DOCDIR=share/task \
		-D ENABLE_SYNC=OFF

	cmake --build build
	DESTDIR=$PKG cmake --install build

	rm $PKG/usr/share/task/{AUTHORS,COPYING,ChangeLog,NEWS,README.md,INSTALL,LICENSE}
	rm $PKG/usr/share/task/scripts/{add-ons,vim,hooks}/README
}
